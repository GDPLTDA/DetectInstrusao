\chapter[Revisão de Literatura]{Revisão de Literatura}
%\addcontentsline{toc}{chapter}{Revisão de Literatura}
% ----------------------------------------------------------
No trabalho de Roberto Silva \cite{RobertoSilva} explica que IDS é um um software com a função de identificar, detectar e responder a atividades anormais e não autorizadas em um sistema. Para entender melhor o que é “Detecção de intrusão”, é preciso entender o que é uma intrusão. A palavra intrusão é definida no dicionário como “o ato de empurrar, ou entrar em um lugar ou estado sem ser convidado, sem ter direito ou ser bem vindo.”. Na computação é simplesmente uma atividade não autorizada no sistema ou na rede por um de seus computadores ou redes de computadores. O funcionamento de um IDS depende do local em que ele é colocado na rede, sendo classificado de 3 formas: Sistema de Detecção de Intrusão Baseado em Rede (NIDS), Sistema de Detecção de Intrusão Baseado em Host (HIDS) e Sistema de Detecção de Intrusão Distribuído (DIDS). 
Existem vários modos possíveis para um IDS fazer sua analise dos dados, sendo as mais comuns Sniffing de pacotes que captura cada pacote que atravessa a sub-rede local ignorando pacotes que passam pela pilha TCP/IP interna da maquina, o Log Parsing que utiliza os logs do sistema para sua analise, o Monitoramento de Chamadas do Sistema que se auto-configura como residirem no Kernel dos sistemas operacionais e analisam chamadas potencialmente maliciosas do sistema e o Observador de Sistema de Arquivo que verifica tamanho e os atributos de arquivos cruciais do filesystem, se o Kernel muda de tamanho e nenhum administrador do sistema sabe, isso é algo para verificar. 
Quando o IDS identifica uma tentativa de intrusão pode responder de duas formas. Usando a resposta passiva, o IDS pode ser configurado para registrar em um arquivo ou alertar o administrador de diferentes formas. Usando uma resposta ativo, emula todo o comportamento do passivo ate a parte da detecção e quando veem uma tentativa de ataque, podem ser configurados para tomar medidas pró-ativas contra este.

No trabalho de Marley \cite{Marley}, é dada uma visão geral sobre Redes Neurais Artificiais(RNA), explicando que a expressão "Rede Neural" é a tentativa de representar a capacidade que cérebro humano possui de reconhecer, associar e generalizar padrões, como uma técnica estatística não-linear capaz de resolver diversos problemas complexos, sendo as principais áreas de atuação para a classificação de padrões e previsão. Uma rede neural é construída com um conjunto de unidades chamada de neurônios. Neurônios são elementos interligados e desempenham uma tarefa trabalhando em paralelo. 
Na estrutura interno do neurônio, temos a função de ativação, que irá restringir a amplitude do intervalo de saída do neurônio, sendo quadro tipos principais que podem ser destacados: Função sigmóide ou logística, que assume valores sempre positivos, Função hiperbólica, onde a saída pode assumir valores positivos e negativos, Função linear, sendo usada principalmente em neurônios da camada de saída quando não é desejável o efeito de saturação das funções sigmóides e hiperbólicas e por ultimo, Função degrau, usa valores rígidos. 
A modelagem de uma rede neural consiste em três etapas: primeiro treinamento e aprendizado, obtido pelo ambiente gerador dos dados, segundo associação, obtido pelo reconhecimento de padrões distintos e terceira generalização, relacionado a capacidade da rede de reconhecer com sucesso o ambiente que origina os dados, não propriamente os dados utilizados no treinamento. Inicialmente se escolhe exemplos para o treinamento, podendo ser do tipo rotulado ou não, sendo rotulado significa ter um conjunto de pares de entrada e saída desejável, nessa etapa os exemplo são usados para validar o modelo testando seu capacidade de generalização. 
O conhecimento é passado no algoritmo de treinamento e o aprendizado é transformado e armazenado em densidades de conexões chamados de pesos, sendo resultado de muitas apresentações do conjunto de exemplos de treinamento. O treinamento pode ser dado de duas maneiras: batelada ou ciclos, onde a atualização somente acontece depois da apresentação de todos os pesos e padrão a padrão ou incremental,onde a atualização é feita após a apresentação de cada novo padrão. 
O treinamento e o aprendizado podem ser classificados em dois tipos: Supervisionado e Não Supervisionado. 
Na aprendizagem supervisionada existem 3 componentes inter-relacionados: Ambiente, onde as características estatísticas não mudam com o tempo, o professor, que é como se existisse um professor que sabe a resposta certa e o Algoritmo de aprendizado, que ajusta os pesos para fazer o mapeamento das entradas para as saídas. 
No treinamento supervisionado se utiliza exemplo “rotulados”, existe um vetor de entrada e um da saída desejada, onde se aplica a entrada e ela é comparada com a saída, essa diferença é usada para a realimentação da rede de forma a tenta minimizar essa diferença. O algoritmo supervisionado mais utilizado é o “Backpropagation”.
No treinamento não supervisionado não existe um vetor de saída desejada, não existindo comparações que realimenta a rede, utiliza exemplo “nao rotulados”, fornece a rede condições  para realizar uma medida independente da tarefa e os parâmetros livres da rede são otimizados em relação esta medida. A rede desenvolve a habilidade de formar representações internas para codificar as características de entrada e criar automaticamente novas classes. O algoritmo não supervisionado que pode ser dado como exemplo é a Rede de Kohonem.
A arquitetura de redes neurais, consiste basicamente em dois tipos: redes não concorrentes e redes concorrentes. 
Redes não concorrentes são ditas como “sem memória”, são aquelas que não possuem realimentação das suas saídas para suas entradas, um exemplo desse tipo de arquitetura são as redes do tipo “ feedfoward”, onde o sinal é sempre propagado para a frente.
Redes concorrentes são aquelas que possuem realimentação das duas saídas para suas entradas, por possuírem realimentação respondem a estímulos dinamicamente, a cada novas entradas, calcula as saídas e então realimenta para modificar as entradas.

Para mostrar a importância de técnicas de inteligência artificial para detecção de intrusão no trabalho feito na Information Systems Security Bureau \cite{Zhang}, foi feito uma analise quantitativa na forma de pesquisa cientifica dando uma visão geral da literatura procurando publicações com tópicos relacionados a “Detecção de intrusão”. 
Com o objetivo principal da pesquisa sendo uma forma compreensível de mostrar as tendências atuais na área. 
Foi utilizado o Google Acadêmico por ser aberto e simples, para realizar as pesquisas na literatura cientifica. 
A primeira comparação é  do período de 2010 a 2014, utilizando um auxiliar “Outros” que seria, por exemplo, detectores de intrusão baseados em assinaturas, e comparando com os baseados em aprendizado de maquina e inteligência artificial, mesmo Outros tendo muito mais publicações, é possível ver um aumento significativo nas duas técnicas nos últimos anos.
A segunda comparação também no período de 2010 a 2014, mostrando diferentes algoritmos de inteligência artificial utilizados para detecção de intrusão, entre eles estão: Redes Neurais, Lógica Fuzzy, Algoritmos Genéticos, Arvores de Decisão, Support Vector Machies e entre outros. 
Redes neurais, com um grande vantagem sobre os outros algoritmos, se mostrando o algoritmo de inteligência artificial mais popular na literatura ciêntifica, mas a resultados promissores em técnicas híbridas, onde se utiliza diferentes técnicas de inteligência artificiais combinadas.

Um modelo combinado de técnicas de inteligência artificial foi criado no trabalho em conjunto do Departamento de Automação e Sistemas da Universidade Federal de Santa Catarina \cite{polvo1} e com a Pontifícia Universidade Católica do Paraná \cite{polvo2}, onde foi desenvolvido um modelo multi-camadas chamado de POLVO-IIDS, sendo uma técnica híbrida que combina redes neurais com Support Vector Machies(SVM). Com o objetivo principal de prover um sistema de detecto de intrusão inteligente (IIDS) que seja preciso, flexível, tolerante a variações de ataques, adaptativo a variações de ambiente, modular e que atue em tempo real.
O modelo consiste em duas camadas: 
A primeira camada é o classificador, composta de uma rede neural de Kohonen, fazendo uma pre-seleção do trafego de entrada, através da analise de características contidas nos pacotes em um determinado período de tempo e indicando como saída se é uma intrusão ou normal.
A segunda camada é detector de anomalias, composto por quatro Support Vector Machines, cada um trata de uma categoria distinta de ataque, sendo especializado no tipo correspondente e com duas opções de saída: trafego normal ou atividade maliciosa. As categorias usadas na criação do detector de anomalias foram: DoS, Worm, Scan, R2L/Normal.
O protótipo foi implementado utilizando a linguagem de programação Java e a rede neural de Kohonen e as SVMs foram implementadas no framework Joone (Java Object Oriented Neural Engine Versão 2.0).
Os resultados obtidos com os testes, mostraram que o modelo é eficiente, usando a base de dados KDD Cup 1999 Data\cite{KDDCup99}, foram efetuados quatro testes para medir as taxas de acerto. Os testes 1 e 2 contaram com 15000 e 30000 dados de entrada, respectivamente, para treinamento da rede com reforço de 100 vezes para cada entrada. Os testes 3 e 4 utilizando os mesmos dados de entrada, porem com reforço de 1000 vezes para cada entrada. O teste 4 se mostrou o mais eficiente utilizando 30000 entradas e reforço de 1000 vezes para cada entrada, teve uma taxa de acerto médio de 96,55\%, embora tenha levado cerca de 40 minutos.

Outro modelo combinado interessante foi criado por Shraddha Surana \cite{Surana} que propôs um modelo utilizando clusterização Fuzzy e Redes neurais artificiais, onde o dataset de treinamento é dividido em N subsets, que são distribuídos em N redes neurais intermediarias, com mais uma camada de RNA que agrega os resultados das redes intermediarias para a partir dai realizar a classificação de novos dados. Esta abordagem conseguiu uma taxa de detecção de 81,6\%.

Muitas abordagens de RNA tem sido implementadas e testadas para IDS, um sistema proposto por Ryan \cite{Ryan}, analisou  o comportamento de usuários individuais. O padrão de entrada foi então combinado com os perfis de usuário para identificar o utilizador (Um nó correspondente ao utilizador com um valor > 0,5 é atribuída a esse usuário). Um flag é gerado se nenhuma correspondência for encontrada,  este é considerado como uma anomalia. No entanto, isto exigia grande quantidade de dados para treinar a rede para cada utilizador. Dados insuficientes para um usuário pode levar à falsos positivos para o comportamento desse usuário na rede. O sistema teve uma taxa de detecção de anomalia de 96\% e 7\% de falsos alarmes.

Um trabalho feito na Pontifícia Universidade Católica do Rio de Janeiro \cite{RenatoMaia}, demonstra um teste de desempenho para algumas diferentes entradas para o treinamento de Redes neurais artificiais.
Utilizando 4 redes e no máximo 4 saídas possíveis, é testado diferentes composições, de forma a encontrar uma ideal maneira de treinamento de uma rede neural, utilizando as 41 categorias disponíveis.
As 4 são categorizas como Normal ou entre 3 tipos de ataque DoS Smurf, Nepture ou Back.
A primeira rede utiliza 9 entradas e uma saídas, onde a saída pode ser -1 para normal e 1 para ataque.
A segunda rede utiliza todas as 41 entradas e uma saída, onde a saída pode ser -1 para normal e 1 para ataque.
A terceira utiliza nove entradas e uma saída, onde a saída pode ser -1 para normal,0 para Neptune e 1 Smurf.
A quarta e ultima rede, usa 9 entradas e quatro saídas que são organizadas em (-1 1 1 1) para Normal,(1 -1 1 1) para Neptune,(1 1 -1 1) para Back e (1 1 1 -1) para Smurf.
Utilizando a base de dados KDD Cup 1999 Data\cite{KDDCup99} para o treinamento das redes neurais, os resultados foram bons e com baixa taxa de falsos positivos, as taxas de acertos foram acima de 90\% para todas as configurações testadas, a rede que teve um melhor resultado foi a terceira rede, tendo 97,5\% na sua taxa de acertos contra.

Cannady propôs um modelo chamado Multi-layered Perceptron (MLP) \cite{Cannady}, utilizando o algoritmo de \textit{backpropagation} ao invés de criar perfis individuais. Foi necessário 26.13 horas para completar com aproximadamente 98\% de acerto no conjunto de dados de treinamento e 97,5\% no conjunto de dados de teste.

Devaraju e Ramakrishnan implementaram a  Rede Neural Probabilística (PNN) \cite{Devaraju} esta obteve desempenho melhor do que uma rede do tipo FeedForward e Radial Basis. No entanto, a PNN (precisão = 80,38\%) conseguiu ser apenas 0,02\% melhor do que a rede do tipo FeedForward (precisão = 80,4\%) nao sendo uma diferença significativa. A precisão do  Radial Basis é de 75,4\%.
Resultados mais baixos que as abordagens que vimos até agora.

No trabalho feito na universidade de Waterloo no canada\cite{Chunlin}, foi apresentado duas técnicas de redes neurais baseados em hierarquia para IDS, hierarquia em series e hierarquia paralela, onde o objeto para a detecção de ataques de abuso e anomalia em tempo real sem a interrupção humana.
Usando dois pré-requisitos para redes neurais hierarquias. O primeiro, cada classificação individual deve acertar seu desempenho, caso contrario,o erro é enviado para os níveis acima, acumulando e influenciados os níveis mais baixos. A taxa de detecção e de falso positivo são os principais indicadores de desempenho. 
A segunda, as classificações,basicamente, podem ser dividas em grupos seguindo alguns critérios, cada grupo pode ser associado para seu própria classificação, então as classificações ou sua saída pode ser combinada em conjuntos.
O artigo conclui em seus resultados, uma ótima habilidade para detectar instruções conhecidas e desconhecidas com um curte período de tempo para o treinamento, uma alta taxa de detecção e um baixo índice de falsos positivos.
O IDS de hierarquia de series conseguiu monitorar em tempo real o trafego na rede, treinando automaticamente novas intrusos modificando sua estrutura para novas classificações. O IDS de hierarquia paralela, resolveu em partes, os problemas da hierarquia em series, sendo mais rápido para ser executado.